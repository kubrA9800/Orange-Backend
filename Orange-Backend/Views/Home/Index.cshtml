@model HomeVM

@{
    ViewData["Title"] = "Home Page";
}
@section css{
    <link rel="stylesheet" href="~/assets/css/home.css">
}
<main>
    <section id="slider">
        <div class="container">
            <div class="slider-all">
                <div id="carouselExampleIndicators" class="carousel slide">
                    <div class="carousel-indicators">
                        @for (int i = 0; i < Model.Sliders.Count; i++)
                        {
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="@i"
                                    class="active" aria-current="true" aria-label="Slide @(i+1)"></button>
                        }
                        

                    </div>
                    <div class="carousel-inner">
                        @foreach(var slider in Model.Sliders)
                        {
                            <div class="carousel-item @(slider.IsMain ? "active": "")  slide-image">
                                <img src="~/assets/img/@slider.Image" class="d-block w-100" alt="...">
                                <div class="text">
                                    <h6>@slider.Head</h6>
                                    <h1>@slider.Title</h1>
                                    <p>
                                        @slider.Description
                                    </p>
                                    <a asp-controller="Shop" asp-action="Index">Shop Now</a>
                                </div>
                            </div>
                        }
                       
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                            data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                            data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </div>

    </section>


    <section id="beauty-store">
        <div class="container">
            <div class="content-top">
                <div class="img">
                    <img src="~/assets/img/x3.avif" alt="">
                </div>
                <div class="text">
                    <h5>@Model.Infos.Title</h5>
                    <p>@Model.Infos.Description</p>
                    <a asp-controller="Shop" asp-action="Index">Explore Our Store</a>
                </div>
            </div>
            <div class="content-bottom">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 col-lg-7">
                            <div class="left">
                                <div class="img">
                                    <img class="img-left" src="~/assets/img/@Model.Treatments.Image1" alt="">
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 col-lg-5">
                            <div class="right">
                                <div class="img">
                                    <img class="img-right" src="~/assets/img/@Model.Treatments.Image2" alt="">
                                </div>
                                <div class="text">
                                    <h5>@Model.Treatments.Head</h5>
                                    <h4>@Model.Treatments.Title</h4>
                                    <p>@Model.Treatments.Description</p>
                                    <a asp-controller="Shop" asp-action="Index">Discover Now</a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </section>


    <section id="categories">
        <div class="container">
            <div class="row">
                @foreach (var category in Model.Categories)
                {
                    @if (category.Products.Count != 0)
                    {
                        <div class="col-sm-6 col-lg-3">
                            <div class="img">
                                <a asp-controller="Shop" asp-action="GetProductsByCategory" asp-route-id="@category.Id"><img src="~/assets/img/@category.Image" alt=""></a>
                            </div>
                            <div class="text">
                                <h4>@category.Name</h4>
                                <h6>@category.Products.Count items</h6>
                            </div>
                        </div>
                    }

                   

                }
                
            </div>
            <hr>
        </div>

    </section>

    <section id="products">
        <h1>New Arrivals</h1>
        <div class="slider-products">
            <div class="slider-for">
            </div>
            <div class="slider-nav" data-slick='{"slidesToShow": 5, "slidesToScroll": 3}'>
                @foreach (var product in Model.Products.Take(6))
                {
                    <div class="col-sm-4">
                        <div class="product item" data-id="@product.Id">
                            <a asp-controller="Shop" asp-action="ProductDetail" asp-route-id="@product.Id">
                                <img src="~/assets/img/product/@product.Images.Where(m=>m.IsMain).FirstOrDefault().Image" alt="Slide 1">
                                <img class="d-none hover-img" src="./assets/img/product/@product.Images.Where(m=>!m.IsMain).FirstOrDefault().Image" alt="Slide 1">
                            </a>
                            <div class="d-none icons">
                                <i class="fa-regular fa-heart heart-icon"></i>
                                <i class="d-none fa-solid fa-heart delete-product-from-wishlist" data-id="@product.Id"></i>
                                <i class="fa-regular fa-eye open-modal" data-id="@product.Id"></i>
                                <i class="fa-solid fa-bag-shopping basket-icon"></i>
                            </div>
                            <div class="text">
                                <h6>@product.CategoryName</h6>
                                <a asp-controller="Shop" asp-action="ProductDetail">
                                    <h4>@product.Name</h4>
                                </a>
                                <span>$@product.Price</span>
                            </div>
                        </div>
                    </div>

                }


            </div>
        </div>
        <div class="mobile-products">
            <div class="slider-nav" data-slick='{"slidesToShow": 2, "slidesToScroll": 1}'>
                @foreach (var product in Model.Products.Take(6))
                {
                    <div class="product">
                        <a asp-controller="Shop" asp-action="ProductDetail">
                            <img src="~/assets/img/product/@product.Images.Where(m=>m.IsMain).FirstOrDefault().Image" alt="Slide 1">
                        </a>
                        <div class="icons">
                            <i class="fa-regular fa-heart heart-icon"></i>
                            <i class="d-none fa-solid fa-heart "></i>
                            <i class="fa-regular fa-eye open-modal" data-id="@product.Id"></i>
                            <i class="fa-solid fa-bag-shopping basket-icon"></i>
                        </div>
                        <div class="text">
                            <h6>@product.CategoryName</h6>
                            <a asp-controller="Shop" asp-action="ProductDetail">
                                <h4>@product.Name</h4>
                            </a>
                            <span>$@product.Price</span>
                        </div>
                    </div>

                }

            </div>



        </div>

    </section>




    <div class="overlay"></div>

    <div class="modals d-none">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 col-lg-7">
                    <div class="img">
                        <img src="~/assets/img/product" alt="">
                    </div>
                </div>
                <div class="col-sm-12 col-lg-5">
                    <div data-id="" class="text">
                        <h1 class="product-name">Super Pure</h1>
                        <span>$<span class="product-price">20</span></span>
                        <hr>
                        <p class="product-desc">
                            Glossier Super Bounce, Super Bounce, serum, hydrating serum, hyaluronic acid serum,
                            pro-vitamin b5 serum, hyaluronic...
                        </p>
                        <a href="#">
                            <div class="add wishlist heart-icon">
                                <i class="fa-regular fa-heart"></i>
                                <h6>Add To Wishlist</h6>
                            </div>
                        </a>
                        <a asp-controller="Wishlist" asp-action="Index">
                            <div class="goto wishlist d-none">
                                <i class="fa-solid fa-heart"></i>
                                <h6>Go To Wishlist</h6>
                            </div>
                        </a>

                        <a data-id="" class="basket-icon item" href="#">Add to Cart</a>
                        <hr>
                        <div class="info">
                            <h1>Type:<span class="product-category">Skincare</span></h1>
                            <h1>Sku:<span>CLE-000-00-00</span></h1>
                            <a asp-controller="Shop" asp-action="ProductDetail" asp-route-id="">View Details</a>

                        </div>




                    </div>
                </div>
            </div>
        </div>
        <i class="fa-solid fa-xmark close"></i>
    </div>

    <section id="magazines">
        <div class="container">
            <div class="row">
                @foreach (var magazine in Model.Magazines)
                {
                    <div class="col-sm-12 col-md-6 col-lg-3">
                        <div class="item">
                            <div class="text">
                                <h4>"@magazine.Text"</h4>
                            </div>
                            <div class="img">
                                <img src="~/assets/img/@magazine.Image" alt="">
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </section>


    <section id="blogs">
        <div class="container">
            <h1>Latest From Blog</h1>
            <h2>Subscribe for latest news and blog updates from our editor.</h2>
            <div class="row">
                @foreach (var blog in Model.Blogs)
                {
                    <div class="col-sm-12 col-lg-4">
                        <div class="blog">
                            <h1>@blog.CreatedDate.ToString("dd/MM/yyyy")</h1>
                            <div class="img">
                                <a asp-controller="Blog" asp-action="Detail"><img src="~/assets/img/@blog.Image" alt=""></a>
                            </div>
                            <div class="text">
                                <a asp-controller="Blog" asp-action="Detail">@blog.Name</a>
                                <hr>
                                <p>
                                    @blog.Head.Substring(0, (int)Math.Ceiling(blog.Text.Length * 0.09))...
                                </p>
                                <a asp-controller="Blog" asp-action="Detail">More Details</a>
                            </div>
                        </div>
                    </div>
                }
                
               

            </div>
        </div>
    </section>


    <section id="subscribe">
        <div style="background-image: url(/assets/img/Subscribe.jpg);" class="content d-flex align-items-center">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 col-sm-12">
                        <div class="text">
                            <h1>Subscrible & Get 10% Discount</h1>

                        </div>
                    </div>
                    <div class="col-lg-6 col-sm-12">
                        <form asp-controller="Subscribe" asp-action="CreateSubscribe" method="post">
                            <div class="input">
                                <i class="fa-regular fa-envelope"></i>

                                <input asp-for="@Model.Subscribe.Email" name="Email" placeholder="Your Email" required type="Email">
                                <button style="background-color:transparent; border:none" type="submit"><i class="fa-solid fa-arrow-right"></i></button>

                            </div>
                        </form>
                        
                    </div>

                </div>
            </div>


        </div>

    </section>


    <section id="brands">
        <div class="brand">
            <div class="container">
                <h1>BRANDS POPULAR</h1>
                <div class="row align-items-center">
                    @foreach (var brand in Model.Brands)
                    {
                        <div class="col-sm-4 col-md-3 col-lg-2">
                            <div class="img">
                                <img src="~/assets/img/@brand.Image" alt="">
                            </div>
                        </div>

                    }
                   
                </div>
            </div>
        </div>
    </section>


</main>

@section script {
    <script src="~/assets/js/home.js"></script>
    <script src="~/assets/js/plugins.js"></script>
    <script src="~/assets/js/product.js"></script>
    <script src="~/assets/js/basket.js"></script>
    <script src="~/assets/js/wishlist.js"></script>
    <script src="~/assets/js/productDetail.js"></script>
}
